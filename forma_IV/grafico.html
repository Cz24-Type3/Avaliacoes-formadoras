<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!--Inserindo o bootstrap-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>Formulário</title>
    <link href="css.css" rel="stylesheet" />
  </head>
  <body>
    <!--Cabeçalho-->
    <div style="background-color: #131313">
      <!--Logo + link-->
      <a href="index.html"><img src="simbolo.png" style="width: 6.8%; margin-right: 89%"/></a>
    </div>

    <!--Gráfico -->
    <div>
      <h2 style="color:white">Logins por dia</h2>

      <canvas id="graficolog" width='400'; height='200'></canvas>

      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
      <script>
        fetch("dados.php")
        .then(response => response.json())
        .then(dados => {
          const dias = dados.map(item => item.dia);
          const totais = dados.map(item => item.total);

          new Chart(document.getElementById("graficolog"), {
            type: 'bar', data: {
              labels: dias, datasets: [{
                label: "Quantidade de logins", data: totais, borderWidth: 1
              }]
            }
          })
        });
      </script>
    </div></br></br> 

    <!---GRAFICO ferramentas-->
    <div>
      <h2 style="color:white">Grafico de ferramentas</h2>
      <canvas id="graficoferra" width='400'; height='200'></canvas>

      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
      <script>
        fetch("graficoferra.php")
        .then(response => response.json())
        .then(dados =>{
          const dias = dados.map(item => item.dia);
          const adicionados = dados.map(item => item.adicionados);
          const removidos = dados.map(item => item.removidos);

          new Chart(document.getElementById('graficoferra'), {
            type: 'line',
            data: {
            labels: dias,
            datasets: [
              {
                label: 'Adicionados',
                data: adicionados,
                borderWidth: 2
            },
              {
                label: 'Removidos',
                data: removidos,
                borderWidth: 2
            }
            ]
            }
          })});
  </script>
</div>


    <!--Rodapé-->
    <div id="rodape">
      <a href="https://github.com/Cz24-Type3"
        style="align-content: center; margin-left: 34%; color: white"
        >GitHub</a>
      <a href="#" style="align-content: center; margin-left: 20%; color: white">Mais informações</a>
    </div>
    <script src="js.js"></script>
  </body>
  <script src="js.js"></script>
</html>
